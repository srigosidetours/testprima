---
// GlobeBackground.astro
const id = Math.random().toString(36).slice(2, 11);
---

<div id="wrapper" style="position: relative;">
  <div
    id="container"
    class="p-1 inset-0 bg-transparent z-0 font-mono text-[clamp(10px,2.80vw,24px)] leading-none text-[#0f0] text-center overflow-hidden"
    style="filter: blur(3px);"
  >
  </div>
</div>

<script is:inline>
  // CÃ³digo del globo animado (sin cambios)
  eval(
    (z =
      'p="<"+"pre>"/* ,.oq#+     ,._, */;for(y in n="zw24l6k\
4e3t4jnt4qj24xh2 x/* =<,m#F^    A W###q. */42kty24wrt413n243n\
9h243pdxt41csb yz/* #K       q##H######Am */43iyb6k43pk7243nm\
r24".split(4)){/* dP      cpq#q##########b, */for(a in t=pars\
eInt(n[y],36)+/*         p##@###YG=[#######y */(e=x=r=[]))for\
(r=!r,i=0;t[a/*         d#qg `*PWo##q#######D */]>i;i+=.05)wi\
th(Math)x-= /*        sergiorig Q###KWR#### W[ */.05,0<cos(o=\
new Date/1e3/*      .Q#########Md#.###OP  A@ , */-x/PI)&&(e[~\
~(32*sin(o)*/* ,    (W#####Xx######.P^     T % */sin(.5+y/7))\
+60] =-~ r);/* #y    `^TqW####P###BP           */for(x=0;122> \
x;)p+="   *#"/* b.        OQ####x#K           */[e[x++]+e[x++\
]]||(S=("eval"/* l         `X#####D  ,       */+"(z=\'"+z.spl\
it(B = "\\\\")./*           G####B" #       */join(B+B).split\
(Q="\'").join(B+Q/*          VQBP`        */)+Q+")//m1k")[x/2\
+61*y-1]).fontcolor/*         TP         */(/\\w/.test(S)&&"#\
03B");document.getElementById("container").innerHTML=p+=B+"\\n"}setTimeout(z)'),
  );

  // Overlay de bienvenida con estilo cyberpunk
  const overlay = document.createElement("div");
  overlay.textContent = "BIENVENIDO";
  overlay.style.position = "absolute";
  overlay.style.top = "50%";
  overlay.style.left = "50%";
  overlay.style.transform = "translate(-50%, -50%)";
  overlay.style.zIndex = "9999"; // Debe quedar sobre el SVG y el fondo desenfocado
  overlay.style.color = "#0ff"; // Neon cyan
  overlay.style.fontFamily = "monospace";
  overlay.style.fontSize = "clamp(10px,2.80vw,24px)";
  overlay.style.textAlign = "center";
  overlay.style.textShadow = "0 0 10px #0ff, 0 0 20px #0ff, 0 0 30px #0ff";
  overlay.style.padding = "10px 20px";
  overlay.style.background = "rgba(0, 0, 0, 0.5)";
  overlay.style.borderRadius = "8px";
  document.getElementById("wrapper").appendChild(overlay);

  // Overlay para la imagen vectorial (SVG) con efecto neon
  const vectorImage = document.createElement("img");
  vectorImage.src = "https://www.svgrepo.com/show/508465/flag-ceu.svg"; // Ruta del SVG
  vectorImage.alt = "Imagen vectorial";
  vectorImage.style.position = "absolute";
  vectorImage.style.top = "50%";
  vectorImage.style.left = "50%";
  vectorImage.style.transform = "translate(-50%, -50%)";
  vectorImage.style.zIndex = "5000"; // Debe quedar entre el fondo desenfocado y el texto
  vectorImage.style.width = "30vw"; // Responsivo
  vectorImage.style.height = "auto";
  vectorImage.style.maxWidth = "100%";
  // Efecto drop-shadow para un toque neon
  vectorImage.style.filter = "drop-shadow(0 0 10px #0ff)";

  // Inserta la imagen vectorial en el contenedor padre
  document.getElementById("wrapper").appendChild(vectorImage);
</script>
