---
import BaseHead from "../components/BaseHead.astro";
import Header from "../components/Header.astro";
import { SITE_TITLE, SITE_DESCRIPTION } from "../consts";
const x = "a";
---

<!doctype html>
<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
    </head>

    <body>
        <Header />
        <main>
            <h1>Hola {x}</h1>


            <!--coso-->

            <div class="max-w-7xl mx-auto bg-white rounded-2xl shadow-2xl overflow-hidden">
                <div class="flex flex-col md:flex-row min-h-[600px]">
                    <!-- Sidebar de pesta√±as -->
                    <div class="bg-gray-50 border-b md:border-b-0 md:border-r border-gray-200">
                        <div class="flex md:flex-col overflow-x-auto md:overflow-x-visible">
                            <button
                                class="tab-button flex-shrink-0 md:flex-shrink flex items-center justify-center md:justify-start px-4 md:px-6 py-3 md:py-4 text-sm md:text-base font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-all duration-200 whitespace-nowrap md:whitespace-normal border-b-2 md:border-b-0 md:border-r-2 border-transparent"
                                data-tab="inicio"
                            >
                                <span class="text-xl md:mr-3">üè†</span>
                                <span class="hidden sm:inline">Inicio</span>
                            </button>
                            <button
                                class="tab-button flex-shrink-0 md:flex-shrink flex items-center justify-center md:justify-start px-4 md:px-6 py-3 md:py-4 text-sm md:text-base font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-all duration-200 whitespace-nowrap md:whitespace-normal border-b-2 md:border-b-0 md:border-r-2 border-transparent"
                                data-tab="servicios"
                            >
                                <span class="text-xl md:mr-3">üõ†Ô∏è</span>
                                <span class="hidden sm:inline">Servicios</span>
                            </button>
                            <button
                                class="tab-button flex-shrink-0 md:flex-shrink flex items-center justify-center md:justify-start px-4 md:px-6 py-3 md:py-4 text-sm md:text-base font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-all duration-200 whitespace-nowrap md:whitespace-normal border-b-2 md:border-b-0 md:border-r-2 border-transparent"
                                data-tab="estadisticas"
                            >
                                <span class="text-xl md:mr-3">üìä</span>
                                <span class="hidden sm:inline">Estad√≠sticas</span>
                            </button>
                            <button
                                class="tab-button flex-shrink-0 md:flex-shrink flex items-center justify-center md:justify-start px-4 md:px-6 py-3 md:py-4 text-sm md:text-base font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-100 transition-all duration-200 whitespace-nowrap md:whitespace-normal border-b-2 md:border-b-0 md:border-r-2 border-transparent"
                                data-tab="contacto"
                            >
                                <span class="text-xl md:mr-3">üìß</span>
                                <span class="hidden sm:inline">Contacto</span>
                            </button>
                        </div>
                    </div>

                    <!-- Contenido de las pesta√±as -->
                    <div class="flex-1 overflow-y-auto">
                        <div class="tab-content p-6 md:p-8" id="inicio">
                            <div class="space-y-6">
                                <div>
                                    <h3 class="text-2xl md:text-3xl font-bold text-gray-800 mb-4">
                                        ¬°Bienvenido al Sistema de Pesta√±as!
                                    </h3>
                                    <p class="text-gray-600 leading-relaxed mb-6">
                                        Este es un ejemplo de sistema de pesta√±as en Astro.
                                    </p>
                                    <div class="bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-lg mb-6">
                                        <div class="flex items-start">
                                            <span class="text-blue-400 text-xl mr-3">üí°</span>
                                            <div>
                                                <p class="text-blue-800">
                                                    <strong>Consejo:</strong> Haz clic en las pesta√±as.
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                    <p class="text-gray-600 mb-4">
                                        Aqu√≠ tienes tu grid original:
                                    </p>
                                    <div class="grid grid-cols-6 gap-4 p-4 bg-gray-50 rounded-lg mb-6">
                                        <div class="p-3 text-center bg-blue-500 text-white rounded font-bold flex items-center justify-center">
                                            1
                                        </div>
                                        <div class="col-span-5 p-3 bg-white rounded shadow-sm flex items-center">
                                            2 - Contenido en 5 columnas
                                        </div>
                                    </div>
                                    <p class="text-gray-600">
                                        Este grid es parte de la pesta√±a "Inicio".
                                    </p>
                                </div>
                            </div>
                        </div>

                        <div class="tab-content hidden p-6 md:p-8" id="servicios">
                            <div class="space-y-6">
                                <div>
                                    <h3 class="text-2xl md:text-3xl font-bold text-gray-800 mb-4">
                                        Nuestros Servicios
                                    </h3>
                                    <p class="text-gray-600 leading-relaxed mb-8">
                                        Contenido de la pesta√±a de servicios.
                                    </p>
                                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                                        <div class="bg-gray-50 p-6 rounded-xl text-center hover:shadow-lg transition-shadow">
                                            <div class="text-4xl mb-4">üé®</div>
                                            <h4 class="text-lg font-semibold text-gray-800 mb-2">
                                                Dise√±o
                                            </h4>
                                        </div>
                                        <div class="bg-gray-50 p-6 rounded-xl text-center hover:shadow-lg transition-shadow">
                                            <div class="text-4xl mb-4">‚ö°</div>
                                            <h4 class="text-lg font-semibold text-gray-800 mb-2">
                                                Rendimiento
                                            </h4>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="tab-content hidden p-6 md:p-8" id="estadisticas">
                            <h3 class="text-2xl md:text-3xl font-bold text-gray-800 mb-4">
                                Estad√≠sticas del Sistema
                            </h3>
                            <p class="text-gray-600">
                                Contenido de la pesta√±a de estad√≠sticas.
                            </p>
                        </div>

                        <div class="tab-content hidden p-6 md:p-8" id="contacto">
                            <h3 class="text-2xl md:text-3xl font-bold text-gray-800 mb-4">
                                Contacta con Nosotros
                            </h3>
                            <form id="contactForm" class="space-y-6 max-w-lg">
                                <div>
                                    <label for="nombre" class="block text-sm font-medium text-gray-700 mb-2">
                                        Nombre
                                    </label>
                                    <input
                                        type="text"
                                        id="nombre"
                                        name="nombre"
                                        required
                                        class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors duration-200"
                                    />
                                </div>
                                <div>
                                    <label for="email" class="block text-sm font-medium text-gray-700 mb-2">
                                        Email
                                    </label>
                                    <input
                                        type="email"
                                        id="email"
                                        name="email"
                                        required
                                        class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none transition-colors duration-200"
                                    />
                                </div>
                                <button
                                    type="submit"
                                    class="bg-gradient-to-r from-blue-400 to-purple-500 text-white px-6 py-3 rounded-lg font-medium hover:transform hover:-translate-y-1 transition-all duration-200 shadow-lg hover:shadow-xl"
                                >
                                    Enviar Mensaje
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <style is:global>
            @keyframes fadeIn {
                from {
                    opacity: 0;
                    transform: translateY(10px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            .tab-content {
                animation: fadeIn 0.3s ease-in-out;
            }

            /* Estilos para pesta√±as activas */
            .tab-button.active {
                color: rgb(37 99 235) !important; /* text-blue-600 */
                background-color: white !important;
                border-color: rgb(59 130 246) !important; /* border-blue-500 */
            }

            /* Asegurar que el contenido est√© oculto por defecto */
            .tab-content.hidden {
                display: none !important;
            }
        </style>

        <script>
            document.addEventListener("DOMContentLoaded", function () {
                console.log("Inicializando sistema de pesta√±as...");
                
                const tabButtons = document.querySelectorAll(".tab-button");
                const tabContents = document.querySelectorAll(".tab-content");

                console.log(`Encontrados ${tabButtons.length} botones y ${tabContents.length} contenidos`);

                function switchTab(targetTabId) {
                    console.log(`Cambiando a pesta√±a: ${targetTabId}`);
                    
                    // Resetear todos los botones
                    tabButtons.forEach((button) => {
                        button.classList.remove("active");
                    });

                    // Ocultar todos los contenidos
                    tabContents.forEach((content) => {
                        content.classList.add("hidden");
                    });

                    // Activar el bot√≥n seleccionado
                    const activeButton = document.querySelector(
                        `.tab-button[data-tab="${targetTabId}"]`
                    );
                    const activeContent = document.getElementById(targetTabId);

                    if (activeButton) {
                        activeButton.classList.add("active");
                        console.log(`Bot√≥n activado: ${targetTabId}`);
                    } else {
                        console.error(`No se encontr√≥ el bot√≥n para: ${targetTabId}`);
                    }

                    if (activeContent) {
                        activeContent.classList.remove("hidden");
                        console.log(`Contenido mostrado: ${targetTabId}`);
                    } else {
                        console.error(`No se encontr√≥ el contenido para: ${targetTabId}`);
                    }
                }

                // A√±adir listeners a los botones
                tabButtons.forEach((button, index) => {
                    console.log(`A√±adiendo listener al bot√≥n ${index}: ${button.getAttribute('data-tab')}`);
                    button.addEventListener("click", function (e) {
                        e.preventDefault();
                        const targetTab = this.getAttribute("data-tab");
                        console.log(`Click en pesta√±a: ${targetTab}`);
                        switchTab(targetTab);
                    });
                });

                // Inicializar la primera pesta√±a
                if (tabButtons.length > 0) {
                    const firstTab = tabButtons[0].getAttribute("data-tab");
                    console.log(`Inicializando primera pesta√±a: ${firstTab}`);
                    switchTab(firstTab);
                }

                // Manejo del formulario de contacto
                const contactForm = document.getElementById("contactForm");
                if (contactForm) {
                    contactForm.addEventListener("submit", function (e) {
                        e.preventDefault();
                        alert("¬°Mensaje enviado correctamente! (Esto es una simulaci√≥n)");
                        this.reset();
                    });
                }

                // Navegaci√≥n por teclado
                document.addEventListener("keydown", function (e) {
                    if (!e.ctrlKey || (e.key !== "ArrowLeft" && e.key !== "ArrowRight")) {
                        return;
                    }
                    e.preventDefault();

                    const currentActiveButton = document.querySelector(".tab-button.active");
                    if (!currentActiveButton) return;

                    const allButtons = Array.from(tabButtons);
                    const currentIndex = allButtons.indexOf(currentActiveButton);
                    let nextIndex;

                    if (e.key === "ArrowRight") {
                        nextIndex = (currentIndex + 1) % allButtons.length;
                    } else {
                        nextIndex = (currentIndex - 1 + allButtons.length) % allButtons.length;
                    }

                    const nextTabId = allButtons[nextIndex].getAttribute("data-tab");
                    switchTab(nextTabId);
                    allButtons[nextIndex].focus();
                });
            });
        </script>
    </body>
</html>